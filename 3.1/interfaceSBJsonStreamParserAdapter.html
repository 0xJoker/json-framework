<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SBJson: SBJsonStreamParserAdapter Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SBJson
   &#160;<span id="projectnumber">3.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<div class="title">SBJsonStreamParserAdapter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="protocolSBJsonStreamParserDelegate-p.html" title="Delegate for interacting directly with the stream parser.">SBJsonStreamParserDelegate</a> protocol adapter.  
 <a href="interfaceSBJsonStreamParserAdapter.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for SBJsonStreamParserAdapter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interfaceSBJsonStreamParserAdapter.png" usemap="#SBJsonStreamParserAdapter_map" alt=""/>
  <map id="SBJsonStreamParserAdapter_map" name="SBJsonStreamParserAdapter_map">
<area href="protocolSBJsonStreamParserDelegate-p.html" title="Delegate for interacting directly with the stream parser." alt="&lt;SBJsonStreamParserDelegate&gt;" shape="rect" coords="0,0,196,24"/>
</map>
 </div></div>

<p><a href="classSBJsonStreamParserAdapter-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:accb014b3ef7b32c586a75079f3cab367"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="accb014b3ef7b32c586a75079f3cab367"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocolSBJsonStreamParserDelegate-p.html#accb014b3ef7b32c586a75079f3cab367">parserFoundObjectStart:</a></td></tr>
<tr class="memdesc:accb014b3ef7b32c586a75079f3cab367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when object start is found. <br/></td></tr>
<tr class="memitem:a18975a826b2ff00319f1d788a75b6d7b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a18975a826b2ff00319f1d788a75b6d7b"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocolSBJsonStreamParserDelegate-p.html#a18975a826b2ff00319f1d788a75b6d7b">parser:foundObjectKey:</a></td></tr>
<tr class="memdesc:a18975a826b2ff00319f1d788a75b6d7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when object key is found. <br/></td></tr>
<tr class="memitem:a13429add866e9e1c3eabab341f748800"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13429add866e9e1c3eabab341f748800"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocolSBJsonStreamParserDelegate-p.html#a13429add866e9e1c3eabab341f748800">parserFoundObjectEnd:</a></td></tr>
<tr class="memdesc:a13429add866e9e1c3eabab341f748800"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when object end is found. <br/></td></tr>
<tr class="memitem:a5df332aa4a2532e7ba1a4010ec8cf1e3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5df332aa4a2532e7ba1a4010ec8cf1e3"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocolSBJsonStreamParserDelegate-p.html#a5df332aa4a2532e7ba1a4010ec8cf1e3">parserFoundArrayStart:</a></td></tr>
<tr class="memdesc:a5df332aa4a2532e7ba1a4010ec8cf1e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when array start is found. <br/></td></tr>
<tr class="memitem:a21ba17ae268498c59ec5ae6025afaaa5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a21ba17ae268498c59ec5ae6025afaaa5"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocolSBJsonStreamParserDelegate-p.html#a21ba17ae268498c59ec5ae6025afaaa5">parserFoundArrayEnd:</a></td></tr>
<tr class="memdesc:a21ba17ae268498c59ec5ae6025afaaa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when array end is found. <br/></td></tr>
<tr class="memitem:a2716ab1638f392e8d2385f76ae247bf5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2716ab1638f392e8d2385f76ae247bf5"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocolSBJsonStreamParserDelegate-p.html#a2716ab1638f392e8d2385f76ae247bf5">parser:foundBoolean:</a></td></tr>
<tr class="memdesc:a2716ab1638f392e8d2385f76ae247bf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a boolean value is found. <br/></td></tr>
<tr class="memitem:a1ea6ceaebfe810df145095efb30999da"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1ea6ceaebfe810df145095efb30999da"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocolSBJsonStreamParserDelegate-p.html#a1ea6ceaebfe810df145095efb30999da">parserFoundNull:</a></td></tr>
<tr class="memdesc:a1ea6ceaebfe810df145095efb30999da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a null value is found. <br/></td></tr>
<tr class="memitem:a798584d13a4f59fd4b3db823f7012a7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a798584d13a4f59fd4b3db823f7012a7f"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocolSBJsonStreamParserDelegate-p.html#a798584d13a4f59fd4b3db823f7012a7f">parser:foundNumber:</a></td></tr>
<tr class="memdesc:a798584d13a4f59fd4b3db823f7012a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a number is found. <br/></td></tr>
<tr class="memitem:ae23bb7064b2543902499a748da668114"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae23bb7064b2543902499a748da668114"></a>
(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocolSBJsonStreamParserDelegate-p.html#ae23bb7064b2543902499a748da668114">parser:foundString:</a></td></tr>
<tr class="memdesc:ae23bb7064b2543902499a748da668114"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a string is found. <br/></td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a1b7451c67d9149b14632c228909659bb"><td class="memItemLeft" align="right" valign="top">NSUInteger&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceSBJsonStreamParserAdapter.html#a1b7451c67d9149b14632c228909659bb">levelsToSkip</a></td></tr>
<tr class="memdesc:a1b7451c67d9149b14632c228909659bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">How many levels to skip.  <a href="#a1b7451c67d9149b14632c228909659bb"></a><br/></td></tr>
<tr class="memitem:a9d336f9c9e1caf3291f80918cb13188e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d336f9c9e1caf3291f80918cb13188e"></a>
id<br class="typebreak"/>
&lt; <a class="el" href="protocolSBJsonStreamParserAdapterDelegate-p.html">SBJsonStreamParserAdapterDelegate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceSBJsonStreamParserAdapter.html#a9d336f9c9e1caf3291f80918cb13188e">delegate</a></td></tr>
<tr class="memdesc:a9d336f9c9e1caf3291f80918cb13188e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Your delegate object Set this to the object you want to receive the <a class="el" href="protocolSBJsonStreamParserAdapterDelegate-p.html" title="Delegate for getting objects &amp; arrays from the stream parser adapter.">SBJsonStreamParserAdapterDelegate</a> messages. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Rather than implementing the <a class="el" href="protocolSBJsonStreamParserDelegate-p.html" title="Delegate for interacting directly with the stream parser.">SBJsonStreamParserDelegate</a> protocol yourself you will most likely find it much more convenient to use an instance of this class and implement the <a class="el" href="protocolSBJsonStreamParserAdapterDelegate-p.html" title="Delegate for getting objects &amp; arrays from the stream parser adapter.">SBJsonStreamParserAdapterDelegate</a> protocol instead.</p>
<p>The default behaviour is that the delegate only receives one call from either the -parser:foundArray: or -parser:foundObject: method when the document is fully parsed. However, if your inputs contains multiple JSON documents and you set the parser's -supportMultipleDocuments property to YES you will get one call for each full method.</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="interfaceSBJsonStreamParserAdapter.html" title="SBJsonStreamParserDelegate protocol adapter.">SBJsonStreamParserAdapter</a> *adapter = [[[<a class="code" href="interfaceSBJsonStreamParserAdapter.html" title="SBJsonStreamParserDelegate protocol adapter.">SBJsonStreamParserAdapter</a> alloc] init] autorelease];
 adapter.<a class="code" href="interfaceSBJsonStreamParserAdapter.html#a9d336f9c9e1caf3291f80918cb13188e" title="Your delegate object Set this to the object you want to receive the SBJsonStreamParserAdapterDelegate...">delegate</a> = <span class="keyword">self</span>;
 
 <a class="code" href="interfaceSBJsonStreamParser.html" title="Parse a stream of JSON data.">SBJsonStreamParser</a> *parser = [[[<a class="code" href="interfaceSBJsonStreamParser.html" title="Parse a stream of JSON data.">SBJsonStreamParser</a> alloc] init] autorelease];
 parser.<a class="code" href="interfaceSBJsonStreamParser.html#a1a4e90ce1ca9b55e7696db77ef6bf20c" title="Delegate to receive messages.">delegate</a> = adapter;
 parser.<a class="code" href="interfaceSBJsonStreamParser.html#afd976c605b67edbb8b7abbebcc5b4093" title="Expect multiple documents separated by whitespace.">supportMultipleDocuments</a> = YES;

 <span class="comment">// Note that this input contains multiple top-level JSON documents</span>
 NSData *json = [<span class="stringliteral">@&quot;[]{}[]{}&quot;</span> dataWithEncoding:NSUTF8StringEncoding]; 
 [parser parse:data];
</pre></div><p>In the above example <code>self</code> will have the following sequence of methods called on it:</p>
<ul>
<li>-parser:foundArray: </li>
<li>-parser:foundObject: </li>
<li>-parser:foundArray: </li>
<li>-parser:foundObject:</li>
</ul>
<p>Often you won't have control over the input you're parsing, so can't make use of this feature. But, all is not lost: this class will let you get the same effect by allowing you to skip one or more of the outer enclosing objects. Thus, the next example results in the same sequence of -parser:foundArray: / -parser:foundObject: being called on your delegate.</p>
<div class="fragment"><pre class="fragment"> <a class="code" href="interfaceSBJsonStreamParserAdapter.html" title="SBJsonStreamParserDelegate protocol adapter.">SBJsonStreamParserAdapter</a> *adapter = [[[<a class="code" href="interfaceSBJsonStreamParserAdapter.html" title="SBJsonStreamParserDelegate protocol adapter.">SBJsonStreamParserAdapter</a> alloc] init] autorelease];
 adapter.<a class="code" href="interfaceSBJsonStreamParserAdapter.html#a9d336f9c9e1caf3291f80918cb13188e" title="Your delegate object Set this to the object you want to receive the SBJsonStreamParserAdapterDelegate...">delegate</a> = <span class="keyword">self</span>;
 adapter.<a class="code" href="interfaceSBJsonStreamParserAdapter.html#a1b7451c67d9149b14632c228909659bb" title="How many levels to skip.">levelsToSkip</a> = 1;
 
 <a class="code" href="interfaceSBJsonStreamParser.html" title="Parse a stream of JSON data.">SBJsonStreamParser</a> *parser = [[[<a class="code" href="interfaceSBJsonStreamParser.html" title="Parse a stream of JSON data.">SBJsonStreamParser</a> alloc] init] autorelease];
 parser.<a class="code" href="interfaceSBJsonStreamParser.html#a1a4e90ce1ca9b55e7696db77ef6bf20c" title="Delegate to receive messages.">delegate</a> = adapter;
 
 <span class="comment">// Note that this input contains A SINGLE top-level document</span>
 NSData *json = [<span class="stringliteral">@&quot;[[],{},[],{}]&quot;</span> dataWithEncoding:NSUTF8StringEncoding]; 
 [parser parse:data];
</pre></div> </div><hr/><h2>Property Documentation</h2>
<a class="anchor" id="a1b7451c67d9149b14632c228909659bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSUInteger) <a class="el" href="interfaceSBJsonStreamParserAdapter.html#a1b7451c67d9149b14632c228909659bb">levelsToSkip</a><code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This is useful for parsing huge JSON documents, or documents coming in over a very slow link.</p>
<p>If you set this to N it will skip the outer N levels and call the -parser:foundArray: or -parser:foundObject: methods for each of the inner objects, as appropriate.</p>
<dl class="section see"><dt>See also:</dt><dd>The StreamParserIntegrationTest.m file for examples </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Classes/<a class="el" href="SBJsonStreamParserAdapter_8h_source.html">SBJsonStreamParserAdapter.h</a></li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sun May 6 2012 10:55:34 for SBJson by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
